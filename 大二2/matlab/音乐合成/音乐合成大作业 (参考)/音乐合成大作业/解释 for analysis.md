将fmt. wav导入后得到的是一个向量，它包含了这段音乐的所有信息，要自动分析这段音乐的音调就需要将每个音调对应的点进行傅里叶变换得到其幅值谱，在幅值谱上找到第一个幅值较大的极大值点，该点对应的就是该音调的基频，得到基频后就可以得到高次谐波的幅值。为了使对每个音调进行傅里叶变换后得到的幅值谱离散程度高，应该将每个音调的数据在时域上重复多次，由于这些点都是直接采集的为做处理的点，因此其重复次数应该足够大才能体现出较强周期性.
这里边还有两个关键点：第一，在从幅值谱上找基频时，图上的极大值点很多，而且上一步的问题中二次谐波的幅度比基频还要大，程序自动确定出准确的基频是一个重要的问题。第二，在程序找到了基频之后，再由基频去获取高次谐波的幅值时需要有一定的容错能力，基频不一定是整数，那么对应的二次谐波的频率不能简单的乘2来计算，若没有给基频一个容错范围，显然找到的二次谐波的幅值是不正确的。
针对以上提出的两个关键点，解决办法如下：对于第一点，因为幅值谱上极大值点的幅值足够大才能将其定位基频，因此在分析了几个音调后发现基频处的幅值都在0.025以上，因此将基频处的限定条件改为幅值大于0.025的，但是观察一下fimt. wav的波形就会发现，有几段的整体幅值很小，因此基频幅值小，于是又在加上限定条件，若所有点的幅值都小于0.025，那么再用0.015作为幅值的限定条件继续找，这样就将剩下的音调基频也确定出来。
对于上述的第二点，可以将确定出的基频的误差设为+—1Hz，那么k次谐波对应的频率范围是k* （f—1）到k* （f+1），在这个区间中继续找幅值的极大值点就是k次谐波对应点。
在取谐波幅值时，幅值小于基波幅值5%的谐波认为其幅值为0，最终谐波的幅值用归一化后的数据表示。
根据以上思路，下面开始编写用于分析一个音调频率的函数analysis.
设计完函数之后对于一段音乐，只需要将其中各个音调的起止分开，用analysis函数分别进行分析并储存结果。

plus：该解释和思路借鉴了学长的思路方法，