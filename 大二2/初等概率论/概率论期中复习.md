形式：闭卷，请携带计算器(仅少量运算)。【全体线下闭卷考试】

时间：10月9日随堂15:20-17:50. 【建议提前复习前5讲，留时间消化第6讲】

题型：10道题，**判断题约20分、计算题约60分、问答或证明题约20分**。题型和难度以作业题目、课堂例题为参照(至少80%与这些难度相当).

考点说明：

1. 考试范围：第一讲至第六讲，其中"随机向量函数的分布"不考，之前的内容都在考试范围内. 附录和标注选修的内容不考. (考虑到同学们消化和复习的时间，10月8日第七讲内容，期中不考、期末考；第七讲的内容和方法上，都和前面内容联系紧密，本次课程亦可看作期中考前的补充训练)
2. 除重要分布外，不需要记其他分布的分布列／密度函数／分布函数，但遇到相应情景，需能够计算相应概率，即便不知道分布名字. （重要分布包括：**两点、二项、泊松、几何、均匀、指数、正态分布**.）

3. 事件域仅考核基本定义的掌握，不超过作业难度. 分值不超过5分.

4. 概率的连续性(单调列的极限必须掌握，一般事件列的上下极限掌握定义即可)，分值不超过6分.

# 概念及其公理

## 概率模型

**样本空间**：一个集合，每个概率模型对应一个试验，该试验将产生一个试验结果，**所有可能的结果**构成样本空间。（样本空间试验结果的性质：**互斥、完整**）

样本空间的选取十分重要。

**事件**：样本空间的子集，即某些试验结果的集合。

**概率**：分配到事件上的一种信念。

**概率公理**：非负性、归一化、可加性（两个事件的交集为空，那么其并事件的概率就是二者概率之和）



概率模型的基本构成就是样本空间和概率



概率若干性质：

- ...
- $P(A\cup B\cup C)=P(A)+P(A^c\cap B)+P(A^c\cap B^c\cap C)$



**序贯树**



**古典概率模型**（离散均匀概率）：样本空间由$n$个等可能性的试验结果组成，因此每个试验结果组成的事件（称为基本事件）的概率是相等的，由此
$$
P(A)=\frac{事件对应基本事件个数}{n}
$$


**几何概率模型**（连续均匀概率）：设空间$R^r$中的体积可以表示为$m(\Omega)$，则事件$A\in \Omega$发生的概率为
$$
P(A)=\frac{m(A)}{m(\Omega)}
$$


概率公理3可以增强为可列可加性：如果一系列事件是互不相交的，那么$P(A_1\cup A_2\cup ...)=P(A_1)+P(A_2)+...$



由有可列可加性容易推导得到有限可加性



概率的性质：

1. 空集对应的概率为零
2. 有限可加性
3. 集合和自身补集概率之和为一
4. 被包含集合的概率可以直接减去
5. $P(A\cup B)=P(A)+P(B)-P(A\cap B)$
6. $P(\bigcup\limits_{i=1}^n A_i)=\sum\limits_{1\le i\le n}P(A_i)-\sum\limits_{1\le i<j\le n}P(A_i\cap A_j)+\sum\limits_{1\le i<j<k\le n}P(A_i\cap A_j\cap A_k)-...+(-1)^{n-1}P(A_1\cap A_2\cap...\cap A_n)$
7. 如果有事件$A_i$，$i=1,...,n$，则$P(\bigcup\limits_{i=1}^n{A_i})\ge \sum\limits_{1\le i\le n}{P(A_i)}-\sum\limits_{1\le i<j\le n}{P(A_i\cap A_j)}$
8. $P(\bigcup\limits_{i=2}^n{A_i})\le \min\limits_{k}\{\sum\limits_{1\le i\le n}{P(A_i)}-\sum\limits_{i:i\neq k}{P(A_i\cap A_k)}\}$
9. 可列可加性不等式：$P(\bigcup\limits_{i=1}^\infty{A_i})\le\sum\limits_{i=1}^{\infty}{P(A_i)}$
10. 如果有事件$A_i$，$i=1,2,...$，则$P(\bigcap\limits_{i=1}^\infty{A_i})\ge1-\sum\limits_{i=1}^\infty{P(A_i^c)}$，特别地，$P(A_1\cap A_2)\ge 1-P(A_1^c)-P(A_2^c)$，是可列可加性不等式的取补集的结果



几种不同的抽样（从M个不同的东西中抽出n个）：

1. 放回有序抽样：$M^n$
2. 不放回有序抽样：$P_M^n$
3. 不放回无序抽样：$\binom{M}{n}$
4. **放回无序抽样**：$\binom{M+n-1}{n}$（相当于将$n$个选择放入$M$个盒子中去，为了方便计算，不妨在每个盒子中都预先加入一个球，那么每个盒子可以等效为两个隔板，这样每两个隔板之间都不为空了，这样再在由$M+n$个小球构成$M+n-1$个间隔中取$M-1$个空位插入隔板就好了，这样得到的隔板与隔板之间的小球数减一相当于相应的特殊物体的抽取到的个数）



**不是任意样本空间的子集都可以分配概率**



概率空间：

**事件域**：设$\Omega$是样本空间，$\mathcal{F}$表示其中的某些子集构成的集合（也就是某些事件构成的集合），其应该满足以下三个条件：

- $\Omega\in \mathcal{F}$
- 如果$A\in\mathcal{F}$，则$A^c\in\mathcal{F}$
- 如果$A_n\in \mathcal{F}$，$n=1,2,..$，则$\cup_{n=1}^\infty A_n\in\mathcal{F}$



对于同一样本空间，可以构造出多个事件域



样本空间的任意子集未必是事件，只有$\mathcal{F}$中的元素才能称之为事件。

**事件域对于集合各种运算都是封闭的，包括事件列的极限运算，也就是其中任意集合的交并补运算的结果都还是事件域的元素。**



如果至少包含两个样本空间的子集的话，那么事件域中的中的元素个数为$4^2$



两个事件域的并集不一定是事件域。



概率或概率测度：设$(\Omega,\mathcal{F})$是可测空间，$P$是定义在$\mathcal{F}$上的函数，如果其满足下面三个条件：

1. 非负性
2. 完全性（归一性）
3. 可列可加性

那么就可以称$P$为$\mathcal{F}$上的概率测度，简称概率，称$(\Omega,\mathcal{F},P)$为概率空间。



事件域中的每一个事件都是可以分配概率的。



事件列的单增和单减，单调事件列其极限可以转化为求并或求交的操作。

**同时如果事件列是单调的，那么其概率的极限就是极限的概率。**概率连续性



**事件列的上极限与下极限**：上极限是N，下极限是倒着的N



**任意一组事件列，都有上极限的概率大于等于概率的上极限，而下极限的概率小于等于概率的下极限**



如果一个事件列的概率之和小于无穷（有限），那么该事件列上极限的概率为0。

如果事件列相互独立，且事件列的概率之和为1，那么该事件列上极限的概率为1.



## 条件概率

$P(B|A)=\frac{P(A\cap B)}{P(A)}$



对于一个概率空间$(\Omega,\mathcal{F},P)$，一个事件属于事件域，且概率大于零，那么类似的其存在条件概率空间满足类似于一般概率空间的性质。



### 乘法公式



### 全概率公式

利用一个可以被分割的全集，可以将另一个事件分裂成多个条件事件



### Bayes准则

相当于全概率公式和乘法公式的结合，因为理论上可以利用全概率公式，将$P(B)$展开为关于$A_i$的各个分事件的分裂形式求和，而$P(A_iB)$也是可以展开为同样的形式。$P(A_i|B)=\frac{P(A_i B)}{P(B)}$，其中$P(A_i)$为先验概率，是已知的某种事件发生的概率。



## 独立性、随机变量

### 事件独立性

事件的独立性：

- $P(A\cap B)=P(A)P(B)$
- $P(A|B)=P(A)$

并没有带来新的信息



条件独立性：

- $P(A\cap B|C)=P(A|C)P(B|C)$

为$A、B$在给定条件下$C$的独立性



**一组事件的独立性**：一组事件交集的概率等于各个事件概率的乘积

事件的两两独立性：



两两独立并不能保证一组事件独立，但是一组事件独立可以保证两两独立



### 随机变量

定义：如果对于样本空间上的函数$X(\omega)$，如果对于小于任意值的逆映射对应的样本空间子集都属于事件域，那么就是一个随机变量。可以简记为$X$

#### 随机变量的函数



#### 随机变量的独立性

**随机变量的相互独立性**：类似于事件独立性，先构造小于某个值的事件，再看其概率乘积是否就是联合的概率

如果一组变量相互独立，那么就称其构成的序列为独立序列



如果一组随机变量独立，那么其对应空间中的任意可测集对应的时间都是相互独立的。**其经过一元实可测函数各自映射后的随机变量也相互独立**

### 离散型随机变量

概率分布列（PMF）

### 两点分布



### 二项分布

相同的两点分布实验做n次的成功次数$X$的分布：$P(X=k)=\binom{n}{k}p^k(1-p)^{n-k}$

相当于$[p+(1-p)]^n$中的某一项

记为$B(n,p)$

最大概率点位$(n+1)p$和$(n+1)p-1$或$[(n+1)p]$



### 几何分布

不断进行两点分布的实验，在第$k$次取得成功的分布

$P(X=k)=(1-p)^{k-1}p$，记作$X\sim G(p)$

该分布具有无记忆性，即$P(X=k+1|X>k)=P(X=1)$



### 帕斯卡分布



### 负二项分布



### 超几何分布



在计算分布时可以将不可区分的东西编号，得到的结果是一样的



### 泊松分布

当二项分布的$n$很大，$p$很小，且$np\approx\lambda$，其中$\lambda$是常数，则可以将其近似为$P(\lambda)$

$P(\lambda)=\frac{\lambda^k}{k!}e^{-\lambda}$

可以描述某段高速公路上一年内的交通事故数，某市场一天中到达的顾客次数等等，$\lambda$相当于描述了该时间段内的流量



## 连续型随机变量

设随机变量$X$，如果存在非负函数$f(x)$使得对于任意的$a<b$，都有$P(a<X\le b)=\int_a^b f(x)dx$，则$X$为连续型随机变量，$f(x)$为$X$的概率密度函数（PDF）



PDF在定义域内未必有界



### 均匀分布

$\mathcal{U}(a,b)$



### 指数分布

$\mathcal{E}(\lambda)$

$f(x)=\lambda e^{-\lambda x},(x\ge 0)$



随机变量服从指数分布的**充要条件**是该随机变量具有无记忆性：$P(X>s+t|X>s)=P(x>t)$

指数分布描述了元件无老化时的寿命分布。



### 正态分布

$\mathcal{N}(\mu,\sigma^2)$

$f(x)=\frac{1}{\sigma\sqrt{2\pi}}\exp(-\frac{(x-\mu)^2}{2\sigma^2})$

标准正态分布：$\mathcal{N}(0,1)$，$\varphi(x)=\frac{1}{\sqrt{2\pi}}\exp(-\frac{x^2}{2})$



## 概率分布函数

分布函数为$F(x)=P(X\le x)$，为$X$的概率分布函数或累积分布函数，简称为分布函数（CDF）



$F(x)$是单调不减的函数

**离散型随机变量的分布函数是阶梯函数**



如果$X$是连续型随机变量，那么其分布函数必然是连续函数，也就是不存在跳变的，因为密度函数上即使存在某一点不连续，也不影响积分结果，这也是其连续的名字的含义。并且在密度函数$f(x)$的连续点，分布函数的导数等于密度函数。（单点的不连续也造成了，某一个分布函数可能对应多个密度函数）



标准正态分布的分布函数为$\Phi(x)$，由$\varphi(x)$的对称性$\Phi(x)+\Phi(-x)=1$



**可以对一般的非标准正态分布随机变量进行换元，使之变成标准的正态分布**



分布函数对一切随机变量都适用。可以用来探讨离散和连续随机变量之间的关 系。



分布函数$F(x)$的性质：

- $F(x)$单调非降
- $F(-\infty)=0$，$F(\infty)=1$
- $F(x)$是右连续的



通过分布函数判断随机变量类型：

- 如果单点概率都为0（不存在冲激函数），则分布函数连续（但是如果分布函数不连续，那么$X$必然是非连续随机变量）
- 如果分布函数连续，那么除去可列个可区分点后，可以通过求导得到密度函数



## 随机变量函数的分布



对于连续性随机变量的连续函数$Y=g(X)$，如果$g(x)$是连续函数，那么可以通过先求得其CDF（分布函数），再通过求导得到密度函数的方法得到其分布



如何由PDF直接得到PDF：求导与逆函数



## 随机向量及其分布

概率空间上的n为随机向量



联合概率分布函数：$\textbf{X}=(X_1,...,X_n)$，$F(x_1,...,x_n)=P(X_1\le x_1,...,X_n\le x_n)$为联合概率分布函数

也是右连续，非降



局域中分布概率的计算



边缘分布、边际分布



对于n维随机变量，共有$2^n-2$个边缘分布



**随机向量的相互独立性**：如果其联合分布等于各自分布的乘积，那么随机向量相互独立



### 离散型随机向量

联合分布列

边缘分布列

离散型随机变量的独立性：直接看各自分布列的的乘积就好



#### 多项分布

设$A_i$为实验可能发生的所有情况，而$X_i$表示对应情况发生的次数，存在多项分布：$P(X_1=k_1,...,X_n=k_n)=\frac{n!}{k_1!...k_r!}p_1^{k_1}...p_r^{k_n}$

### 连续型随机向量

连续型随机向量的定义类比于连续型随机变量的定义，是存在一个非负可积函数，使得其通过积分可以找到区块对应的概率

#### 联合概率密度

连续型随机向量的联合概率密度可以用多维积分的方式求出位于某个高维块中的概率



**可对积分进行累次积分计算，且积分的次序可交换**



**边缘密度函数**：把无关的维度积分掉就好了



#### 连续型随机向量的独立性

如果连续型随机向量的分量相互独立，那么其联合概率密度等于其分别概率密度的乘积



**二元正态分布**



**如果$X,Y$的分布函数连续，那么其联合分布函数连续**

存在随机向量$(X,Y)$有连续的联合分布，但不是连续型随机向量



## 条件密度和条件分布



独立同分布序列



条件分布函数（条件分布）和条件概率密度（条件概率）



概率的性质三大技巧：

- 拆成互斥的
- 求补集
- 归纳法





条件概率两个思路：

- 序贯树（有限步）
- 递归、归纳法（无限步）



- 乘法公式
- 全概率公式
- 贝叶斯公式





判断用定义，应用用性质











