# 电源滤波电容仿真

无04  2019012137  张鸿琳

对于如下电路：

![](C:\Users\惠普\Videos\Captures\B1-07一阶时频prn.pdf 和另外 1 个页面 - 个人 - Microsoft​ Edge 2021_11_2 15_53_40.png)

首先从理论层面分析：当$R_d$接入电路时，利用戴维南等效电路，可以得到$A$点的电压应为$V_A=\frac{R_2+R_d}{R_1+R_2+R_d}V_0\times\frac{R_a}{R_1//(R_2+R_d)+R_a}$，当$R_d$分别取$R_{d1}$和$R_{d2}$时，可以得到$V_{A1}\approx4.902V$，$V_{A2}\approx4.505V$，故而其波形为起伏的方波，仿真结果如下：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - [Draft2.asc] 2021_11_2 16_03_20.png)

与理论一致，此时$A$处电压起伏约为$\Delta V_A\approx0.397 V$，此后加入电源滤波电容，使得电压起伏下降，首先分析可知电容具有通交流阻直流的作用，当其与后续电阻并联，就可以有效滤除电流中的交流成分，从而减少后续电阻的起伏。

本质上还是电容不断充放电的过程，假设平衡时低位电压为$V_1$，高位电压为$V_2$，则充电过程为$V_2=V_{A1}+(V_1-V_{A1})\exp(-\frac{T}{2RC})$，而充电时$R=R_1//R_a//(R_2+R_{d1})\approx9.804\Omega$，而放电时$V_1=V_{A2}+(V_2-V_{A2})\exp(-\frac{T}{2rC}))$，而此处$r=R_1//R_a//(R_2+R_{d1})\approx9.009\Omega$，由此可以解得：
$$
V_2=\frac{V_{A1}+\exp(-\frac{T}{2RC})(V_{A2}-V_{A2}\exp(-\frac{T}{2rC})-V_{A1})}{1-\exp(-\frac{T}{2RC}-\frac{T}{2rC})}
$$

$$
V_1=\frac{V_{A2}+\exp(-\frac{T}{2rC})V_{A1}-\exp(-\frac{T}{2RC}-\frac{T}{2rC})V_{A1}-\exp(-\frac{T}{2rC})V_{A2}}{1-\exp(-\frac{T}{2RC}-\frac{T}{2rC})}
$$

由此得到$\Delta V=V_2-V_1=\frac{1-A-B+AB}{1-AB}(V_{A1}-V_{A2})$，其中$A=\exp(-\frac{T}{2RC})$，$B=\exp(-\frac{T}{2rC})$，所以为了使电压起伏变为原来的$\frac{1}{10}$，只需令$\frac{1-AB}{1-A-B+AB}\approx10$，估算得到$C\approx27.68nF$（将$R$和$r$都视为$9\Omega$来计算），仿真得到如下结果：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - Draft2.raw 2021_11_2 17_17_23.png)

可见起伏电压变为$\Delta V\approx4.714-4.676=0.038V$，电压起伏确实变为了原来的$\frac{1}{10}$。

下面再分几种情况进行讨论：

## 将电容放在位置B

从理论角度分析，可知，上面推导公式中的$R$和$r$发生变化，此时$r\approx16.297\Omega$，而$R\approx20\Omega$，相当于$A$和$B$整体变大了，那么就会导致抑制作用更明显，仿真结果如下：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - Draft2.asc 2021_11_2 17_31_41.png)

可以看到电压起伏变为$\Delta V\approx4.695-4.675=0.02V$，$A$处电压起伏进一步减小了。

## 将电容拆分为两个，分别置于A、B处

两个电容容值都取$13.84nF$，为原电容的$\frac{1}{2}$，仿真得到下面结果：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - Draft2.raw 2021_11_2 17_38_09.png)

抑制电压起伏的效果相较之前有了进一步提升。

## 将电容拆分为三个，分别放在A、B和互导之间

三个电容容值都取$9.227nF$，分别置于相应位置，得到下面的结果：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - [Draft2.asc] 2021_11_2 17_46_55.png)

与上面一种情况的抑制效果相仿。

## 将电容拆分为四个，分别放在A、B和互导、互阻之间

四个电容容值都取$6.92nF$，置于相应位置后，得到下面结果：

![](C:\Users\惠普\Videos\Captures\LTspice XVII - [Draft2.asc] 2021_11_2 17_55_18.png)

相较于前面的两个结果，效果有所下降。



## 结论

综合上面的仿真结果和理论分析，可以该功能电路中的去耦电容置于靠近数字电路处，效果更好，如果能够拆分为一系列小电容进行去耦，那么效果会更好。

进一步分析，加入上面功能电路中的数字电路部分距离电源更近，那么在模拟电路的负载端，其等效戴维南电路的等效电压基本不变，而等效电阻的变化幅度为$19-19.9\Omega$，而原来等效电阻的变化范围为$9.09-9.9\Omega$，相比之下模拟电路的电压起伏减小了，从这个角度看，或许数字电路距离电源近了更好。

